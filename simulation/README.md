# Simulations

This readme contains the description of the models used for simulations

All selection effects ('altX', 'altSqX', 'egoX', 'egoSqX', 'egoXaltX', 'simX', 'diffX', 'diffSqX', 'higher', 'sameX', 'egoDiffX', 'egoPlusAltX')

All influence effects ('linear', 'quad', 'avAlt', 'avSim', 'totAlt', 'totSim')

## Simulation1.R

Data: Glasgow dataset (129 non-missing actors)
* Smaller data: first 30 actors
* Bigger data: last 60 actors
* 3 waves
* Covars: gender, tobacco[,1]
* Behavior: alcohol

Model specifications:
* The list of effects is taken from the SimulateNetworkaBehavior functions
* Structural: transTrip, cycle3
* Covars: egoX, altX, simX
* Behavior: [avAlt, quad] for influence

Both models (30 and 60 actors) converge.

## Simulation2.R

Data: Glasgow dataset (129 non-missing actors)
* Smaller data: first 30 actors
* Bigger data: last 60 actors
* 3 waves
* Covar: gender
* Behavior: alcohol

Model specifications:

* Structural: transTrip, cycle3
* Covars: sameX
* Behavior: [altX, egoX, egoXaltX] for selection, [quad, avAlt, avSim] for influence

UPD: the model60 with tobacco doesn't converge

Both models converge if tobacco removed.

## Simulation3.R

Data: Glasgow dataset (129 non-missing actors)
* Smaller data: first 30 actors
* Bigger data: last 60 actors
* 3 waves
* Covar: gender, tobacco[,1]
* Behavior: alcohol

Model specifications:

* Structural: transTrip, cycle3
* Covars: sameX (gender), simX (tobacco)
* Behavior: [altX, egoX, egoXaltX] for selection, [quad, avAlt, avSim] for influence

Both models converge.

## Simulation4.R

Data: Glasgow dataset (129 non-missing actors)
* Smaller data: first 30 actors
* Bigger data: last 60 actors
* 2 waves
* Covar: gender
* Behavior: alcohol, tobacco

Model specifications:

* Structural: rec,tt,tRt,c3,inPopSq,outActSq
* Covars: sameX (gender)
* Behavior: [altX, egoX, egoXaltX] for selection, [quad, avAlt, effFromGender, effFromAnotherBeh] for influence

Both models converge.

This model will be used for the paper.

To do:
- [x] Edit object names in `save()` function for both datasets
- [x] Edit missing simulation part for the bigger dataset in Simulation4.R

## Simulation5.R

Since the 2nd wave data generated by the previous scripts appears to be denser than the original, here I save only simulated data, both 1st and 2nd waves, so they are of the same density.

Model specification is the same as in Simulation4.R script, except that the smoking behavior is not used.

To do:
- [x] Complete the script for the bigger dataset

The simulated data is still not good so the imputation models do not converge.